#!/bin/bash

VIM_CONFIG="${HOME}/.config/nvim/init.vim"
VSCODE_CONFIG="${HOME}/Library/Application Support/Code/User/settings.json"

sed -i '' 's/^set background=.*$/set background=dark/g' "${VIM_CONFIG}"
sed -i '' 's/"workbench.colorTheme":\s*".*"/"workbench.colorTheme": "Gruvbox Dark Hard"/g' "${VSCODE_CONFIG}"

osascript <<'END'
tell application "Terminal"
    repeat with w from 1 to count windows
        repeat with t from 1 to count tabs of window w
            set current settings of tab t of window w to (first settings set whose name is "Gruvbox Dark Hard")
        end repeat
    end repeat
end tell
END
